<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<!-- <script src="http://code.jquery.com/jquery-2.1.3.min.js"></script> -->
<script src="../js/jquery-1.11.2.js"></script>
</head>
<body>
	
	
	<div  id="diva">
		<input type="button"  value="Click"  onclick="actionURL()"></input>		
		
		
		<input type="button"  value="Inner-Trigger"  onclick="trig()"></input>		
		
	</div>
	
	
	<div id="content">
	-------------
	</div>
	
	<script type="text/javascript">
		var i=0;
		
		function success_jsonpCallback(data){
			
			alert('success_jsonpCallback-->'+data['status']);
			
		}
		
		
		function action(url,param){
			var a=window.location;
			$.ajax({ 
				type : "get", 
				async:true, 
				url: url , //?html=&service=
				dataType : "jsonp", 
				data: "a=a",
				jsonp: "callbackKey",//传递给请求处理程序或页面的，用以获得jsonp回调函数名的参数名(默认为:callback) 
				jsonpCallback:'success_jsonpCallback',//自定义的jsonp回调函数名称，默认为jQuery自动生成的随机函数名 
				success : function(json){ 
					try{
						var domdata=window.render.call(this,json);
						$("#content").html(json['template']);
					}catch(Exception ){
						alert('error');	
					}
				}, 
				error:function(data){ 
					alert('fail'); 
				} 
				}); 
		}
		
		var serviceHost="http://127.0.0.1:8686\/youapp"; 
		
		function actionURL(){
			
			action(serviceHost+"?html=html/nex.html&service=beanName.methodLLLL"
					,""
			);
		}
		
		
		function moduleLoad(){
			//alert('i++++');
			i=i+1;
			var string='<ul><li>a</li><li>a</li><li>'+i+'</li></ul><script type="text/javascript">alert("inner");function trig(){alert(i)}<\/script>';
			//$("#content").html("Hello <b>world"+(i)+"</b>!");
			$("#content").html(string);
		}
	
	
	
	</script>
	


</body>
</html>